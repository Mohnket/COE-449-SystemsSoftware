////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// File Name: pi_digit.c
///
/// @par Full Description
/// COE 449 Project 5
/// checks that the pi driver is functioning correctly
///
/// @version
/// 18-Apr-2018 Tyler Mohnke    Initial implementation
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// System Includes
#include <stdint.h>
#include <stdio.h>

// Constants
#define PI_DIGITS 100

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//  Function Name: main
///
/// @par Full Description
/// Entry point of the program
///
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
int main(void)
{
    // open the driver
    FILE* pPiDriver = fopen("/dev/pi", "r");
    if(pPiDriver == NULL)
    {
        return 1;
    }
    
    // create a buffer for the digits
    char pBuffer[PI_DIGITS];
    
    // read in the digits
    fgets(pBuffer, PI_DIGITS, pPiDriver);
    fclose(pPiDriver);
    
    // print them to the terminal
    printf(pBuffer);
    
    return 0;
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// EOF
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
